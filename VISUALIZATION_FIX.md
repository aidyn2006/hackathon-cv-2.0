# üé® –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–¥—Å—á–µ—Ç–∞

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1Ô∏è‚É£ **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º labels**

**–ë—ã–ª–æ:**
- Label –≤—Å–µ–≥–¥–∞ —Ä–∏—Å–æ–≤–∞–ª—Å—è —Å–≤–µ—Ä—Ö—É bbox
- –ï—Å–ª–∏ bbox –±—ã–ª —É –≤–µ—Ä—Ö–Ω–µ–≥–æ –∫—Ä–∞—è, label –≤—ã—Ö–æ–¥–∏–ª –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- Label "–ø—Ä–æ–≤–∞–ª–∏–≤–∞–ª—Å—è" –≤–Ω—É—Ç—Ä—å bbox

**–°—Ç–∞–ª–æ:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü: –µ—Å–ª–∏ label –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É, —Ä–∏—Å—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ bbox (—É –≤–µ—Ä—Ö–Ω–µ–≥–æ –∫—Ä–∞—è)
- ‚úÖ Label –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã (10px –¥–ª—è —Ñ–æ–Ω–∞, 8px –¥–ª—è —Ç–µ–∫—Å—Ç–∞)

```python
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–º–µ—â–∞–µ—Ç—Å—è –ª–∏ label —Å–≤–µ—Ä—Ö—É bbox
if y1 - label_height - 10 > 0:
    # –†–∏—Å—É–µ–º –°–í–ï–†–•–£ bbox
    label_y_top = y1 - label_height - 10
    label_y_bottom = y1
    text_y = y1 - 8
else:
    # –†–∏—Å—É–µ–º –í–ù–£–¢–†–ò bbox (—Å–≤–µ—Ä—Ö—É)
    label_y_top = y1
    label_y_bottom = y1 + label_height + 10
    text_y = y1 + label_height + 2
```

---

### 2Ô∏è‚É£ **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ü–≤–µ—Ç–∞–º–∏**

**–ë—ã–ª–æ:**
- –ü–æ–¥–ø–∏—Å–∏: –ó–µ–ª–µ–Ω—ã–π ‚úÖ
- –®—Ç–∞–º–ø—ã: –°–∏–Ω–∏–π (BGR: 255, 0, 0) ‚úÖ
- –î—Ä—É–≥–æ–µ: –ö—Ä–∞—Å–Ω—ã–π ‚úÖ
- QR –≤–∞–ª–∏–¥–Ω—ã–µ: –ñ–µ–ª—Ç—ã–π (BGR: 255, 255, 0) ‚ùå –±—ã–ª –Ω–µ—è—Ä–∫–∏–π
- QR –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ: –û—Ä–∞–Ω–∂–µ–≤—ã–π ‚úÖ

**–°—Ç–∞–ª–æ:**
- ‚úÖ –ü–æ–¥–ø–∏—Å–∏: –ó–µ–ª–µ–Ω—ã–π (BGR: 0, 255, 0)
- ‚úÖ –®—Ç–∞–º–ø—ã: –°–∏–Ω–∏–π (BGR: 255, 0, 0)
- ‚úÖ –î—Ä—É–≥–æ–µ: –ö—Ä–∞—Å–Ω—ã–π (BGR: 0, 0, 255)
- ‚úÖ QR –≤–∞–ª–∏–¥–Ω—ã–µ: –Ø—Ä–∫–æ-–∂–µ–ª—Ç—ã–π Cyan (BGR: 0, 255, 255)
- ‚úÖ QR –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ: –û—Ä–∞–Ω–∂–µ–≤—ã–π (BGR: 0, 165, 255)

---

### 3Ô∏è‚É£ **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥—Å—á–µ—Ç–æ–º QR-–∫–æ–¥–æ–≤**

**–ë—ã–ª–æ:**
```python
'total_qr_codes': len(qr_codes)  # ‚ùå –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

**–°—Ç–∞–ª–æ:**
```python
'total_qr_codes': len(qr_codes_json)  # ‚úÖ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

**–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:**
```json
{
  "stats": {
    "total_qr_codes": 5,
    "valid_qr_codes": 4,      // ‚úÖ –ù–æ–≤–æ–µ
    "invalid_qr_codes": 1     // ‚úÖ –ù–æ–≤–æ–µ
  }
}
```

---

### 4Ô∏è‚É£ **–£–ª—É—á—à–µ–Ω summary –æ—Ç–≤–µ—Ç–∞**

**–ë—ã–ª–æ:**
```json
{
  "summary": {
    "total_pages": 10,
    "total_detections": 45,
    "total_qr_codes": 12,
    "average_quality": 0.815
  }
}
```

**–°—Ç–∞–ª–æ:**
```json
{
  "summary": {
    "total_pages": 10,
    "total_detections": 45,
    "total_qr_codes": 12,
    "valid_qr_codes": 10,           // ‚úÖ –ù–æ–≤–æ–µ
    "invalid_qr_codes": 2,          // ‚úÖ –ù–æ–≤–æ–µ
    "average_quality": 0.815,
    "detections_by_class": {        // ‚úÖ –ù–æ–≤–æ–µ
      "stamp": 15,
      "signature": 30
    }
  }
}
```

---

### 5Ô∏è‚É£ **–£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–ë—ã–ª–æ:**
```
Page 1 processed: 3 detections, 5 QR codes
```

**–°—Ç–∞–ª–æ:**
```
Page 1 processed: 3 detections, 5 QR codes (4 valid, 1 invalid)
Processing completed: 10 pages, 45 detections, 12 QR codes (10 valid, 2 invalid), avg quality: 0.815
```

---

## üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### **YOLO –¥–µ—Ç–µ–∫—Ü–∏–∏:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ class_name confidence       ‚îÇ ‚Üê Label —Å –±–µ–ª—ã–º —Ç–µ–∫—Å—Ç–æ–º –Ω–∞ —Ü–≤–µ—Ç–Ω–æ–º —Ñ–æ–Ω–µ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ        –ó–ï–õ–ï–ù–´–ô              ‚îÇ ‚Üê –ü–æ–¥–ø–∏—Å–∏ (signatures)
‚îÇ                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ stamp 0.87                  ‚îÇ ‚Üê Label
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ        –°–ò–ù–ò–ô                ‚îÇ ‚Üê –®—Ç–∞–º–ø—ã (stamps)
‚îÇ                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **QR-–∫–æ–¥—ã:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úì QR: https://example.c...  ‚îÇ ‚Üê Label —Å —á–µ—Ä–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ    –Ø–†–ö–û-–ñ–ï–õ–¢–´–ô (CYAN)       ‚îÇ ‚Üê –í–∞–ª–∏–¥–Ω—ã–µ QR
‚îÇ                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úó QR: invalid data          ‚îÇ ‚Üê Label
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                             ‚îÇ
‚îÇ      –û–†–ê–ù–ñ–ï–í–´–ô              ‚îÇ ‚Üê –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ QR
‚îÇ                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ (BGR —Ñ–æ—Ä–º–∞—Ç)

| –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞ | –¶–≤–µ—Ç | BGR –∫–æ–¥ | –¢–æ–ª—â–∏–Ω–∞ |
|-------------|------|---------|---------|
| **–ü–æ–¥–ø–∏—Å—å** | üü¢ –ó–µ–ª–µ–Ω—ã–π | (0, 255, 0) | 3px |
| **–®—Ç–∞–º–ø** | üîµ –°–∏–Ω–∏–π | (255, 0, 0) | 3px |
| **–î—Ä—É–≥–æ–µ** | üî¥ –ö—Ä–∞—Å–Ω—ã–π | (0, 0, 255) | 2px |
| **QR –≤–∞–ª–∏–¥–Ω—ã–π** | üü° –Ø—Ä–∫–æ-–∂–µ–ª—Ç—ã–π | (0, 255, 255) | 3px |
| **QR –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π** | üü† –û—Ä–∞–Ω–∂–µ–≤—ã–π | (0, 165, 255) | 3px |

**–¢–µ–∫—Å—Ç:**
- –ù–∞ —Ü–≤–µ—Ç–Ω—ã—Ö bbox YOLO: –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç (255, 255, 255)
- –ù–∞ —Ü–≤–µ—Ç–Ω—ã—Ö bbox QR: —á–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç (0, 0, 0)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ label:**

1. **–ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ç–µ–∫—Å—Ç–∞:**
```python
(label_width, label_height), baseline = cv2.getTextSize(
    label, font, font_scale, font_thickness
)
```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü:**
```python
if y1 - label_height - 10 > 0:
    # –†–∏—Å—É–µ–º —Å–≤–µ—Ä—Ö—É
else:
    # –†–∏—Å—É–µ–º –≤–Ω—É—Ç—Ä–∏
```

3. **–û—Ç—Å—Ç—É–ø—ã:**
- –§–æ–Ω label: +10px –ø–æ —à–∏—Ä–∏–Ω–µ, +10px –ø–æ –≤—ã—Å–æ—Ç–µ
- –¢–µ–∫—Å—Ç: +5px —Å–ª–µ–≤–∞, -8px —Å–≤–µ—Ä—Ö—É (–∏–ª–∏ +2px –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏)

---

## üìà –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ API

```json
{
  "success": true,
  "results": [
    {
      "page": 1,
      "image": "base64_annotated_image...",
      "original_image": "base64_original_image...",
      "yolo_detections": [
        {
          "class": "stamp",
          "confidence": 0.87,
          "bbox": [120, 450, 280, 610]
        }
      ],
      "qr_codes": [
        {
          "type": "QRCODE",
          "data": "https://example.com/doc/12345",
          "valid": true,
          "confidence": 1.0,
          "rect": {
            "left": 500,
            "top": 100,
            "width": 150,
            "height": 150
          }
        }
      ],
      "quality_score": 0.815,
      "stats": {
        "total_detections": 2,
        "total_qr_codes": 1,
        "valid_qr_codes": 1,
        "invalid_qr_codes": 0,
        "high_confidence_detections": 1,
        "detections_by_class": {
          "stamp": 1,
          "signature": 1
        }
      }
    }
  ],
  "summary": {
    "total_pages": 1,
    "total_detections": 2,
    "total_qr_codes": 1,
    "valid_qr_codes": 1,
    "invalid_qr_codes": 0,
    "average_quality": 0.815,
    "detections_by_class": {
      "stamp": 1,
      "signature": 1
    }
  }
}
```

---

## ‚úÖ Checklist –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

- [x] Label —Ä–∏—Å—É–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É bbox (–∫–æ–≥–¥–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è)
- [x] Label —Ä–∏—Å—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ bbox (–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É)
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [x] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- [x] –Ø—Ä–∫–∏–π –∂–µ–ª—Ç—ã–π (cyan) –¥–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö QR
- [x] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç QR-–∫–æ–¥–æ–≤
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ valid/invalid QR
- [x] –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–ª–∞—Å—Å–∞–º –≤ summary
- [x] –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [x] –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ YOLO bbox
- [x] –ß–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ QR bbox
- [x] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è —Ç–µ–∫—Å—Ç–∞

---

## üöÄ –ó–∞–ø—É—Å–∫

```bash
cd /Users/aidyn/Downloads/hacknu
python app.py
```

**URL:** http://localhost:5001

---

**–î–∞—Ç–∞:** 2025-11-15  
**–í–µ—Ä—Å–∏—è:** 1.1  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Fixed & Deployed

