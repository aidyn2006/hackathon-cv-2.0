# ‚öôÔ∏è Confidence Threshold Settings - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìç –ì–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Confidence Threshold

–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å **3 —É—Ä–æ–≤–Ω—è** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ—Ä–æ–≥–æ–≤ confidence:

---

## 1Ô∏è‚É£ YOLO Detection Threshold (–ù–∞—á–∞–ª—å–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è)

**–§–∞–π–ª:** `app_inspector.py` (—Å—Ç—Ä–æ–∫–∞ 269)

```python
yolo_detections = model(preprocessed_img, 
                       conf=0.15,      # ‚Üê –ì–õ–ê–í–ù–´–ô –ü–û–†–û–ì YOLO
                       imgsz=960,
                       iou=0.5,
                       verbose=False)
```

### –ß—Ç–æ —ç—Ç–æ:
- **–°–∞–º—ã–π –ø–µ—Ä–≤—ã–π –ø–æ—Ä–æ–≥** - YOLO –Ω–µ –≤–µ—Ä–Ω–µ—Ç –æ–±—ä–µ–∫—Ç—ã —Å confidence –Ω–∏–∂–µ —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
- **–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** 0.15 (15%)
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω:** 0.10 - 0.30

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:

**–ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ –æ–±—ä–µ–∫—Ç–æ–≤ (–≤–∫–ª—é—á–∞—è —Å–ª–∞–±—ã–µ):**
```python
conf=0.10,  # –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ - –ø–æ–∫–∞–∂–µ—Ç –ø–æ—á—Ç–∏ –≤—Å—ë
```

**–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —É–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–µ—Ç–µ–∫—Ü–∏–∏:**
```python
conf=0.30,  # –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ - —Ç–æ–ª—å–∫–æ —á–µ—Ç–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã
```

### –î–ª—è QR-–∫–æ–¥–æ–≤:
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** QR-–∫–æ–¥—ã –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `pyzbar`, –∞ –Ω–µ —á–µ—Ä–µ–∑ YOLO, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç –ø–æ—Ä–æ–≥ –Ω–∞ –Ω–∏—Ö –Ω–µ –≤–ª–∏—è–µ—Ç.

---

## 2Ô∏è‚É£ Class-Specific Thresholds (–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–ª–∞—Å—Å–∞–º)

**–§–∞–π–ª:** `postprocessing.py` (—Å—Ç—Ä–æ–∫–∏ 278-286)

```python
class_thresholds = {
    '–ø–æ–¥–ø–∏—Å—å': 0.20,    # –ü–æ–¥–ø–∏—Å–∏ (—Ä—É—Å—Å–∫–∏–π)
    'signature': 0.20,  # –ü–æ–¥–ø–∏—Å–∏ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
    '—à—Ç–∞–º–ø': 0.20,      # –®—Ç–∞–º–ø—ã (—Ä—É—Å—Å–∫–∏–π)
    'stamp': 0.20,      # –®—Ç–∞–º–ø—ã (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
    'qr': 0.30,         # ‚Üê QR-–∫–æ–¥—ã –æ—Ç YOLO (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Ç.–∫. pyzbar)
    'text': 999.0,      # Text –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å)
    'default': 0.25     # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
}
```

### –ß—Ç–æ —ç—Ç–æ:
- **–í—Ç–æ—Ä–æ–π —É—Ä–æ–≤–µ–Ω—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏** - –ø–æ—Å–ª–µ YOLO –¥–µ—Ç–µ–∫—Ü–∏–∏
- –†–∞–∑–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `apply_class_specific_filtering()`

### –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

| –ö–ª–∞—Å—Å | –ü–æ—Ä–æ–≥ | –ó–∞—á–µ–º |
|-------|-------|-------|
| **Signature** | 0.20 | –ü–æ–¥–ø–∏—Å–∏ —á–∞—Å—Ç–æ —Å–ª–∞–±—ã–µ/–±–ª–µ–¥–Ω—ã–µ |
| **Stamp** | 0.20 | –®—Ç–∞–º–ø—ã —Ç–æ–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –±–ª–µ–¥–Ω—ã–º–∏ |
| **QR** | 0.30 | QR –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–µ—Ç—á–µ (–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) |
| **Text** | 999.0 | –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω (–Ω–µ –Ω—É–∂–µ–Ω) |
| **Default** | 0.25 | –î–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤ |

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:

#### –ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ —à—Ç–∞–º–ø–æ–≤:
```python
'stamp': 0.15,  # –ü–æ–Ω–∏–∑–∏—Ç—å —Å 0.20 –¥–æ 0.15
```

#### –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ç–∫–∏–µ –ø–æ–¥–ø–∏—Å–∏:
```python
'signature': 0.30,  # –ü–æ–≤—ã—Å–∏—Ç—å —Å 0.20 –¥–æ 0.30
```

#### –í–∫–ª—é—á–∏—Ç—å –∫–ª–∞—Å—Å Text –æ–±—Ä–∞—Ç–Ω–æ:
```python
'text': 0.25,  # –ò–∑–º–µ–Ω–∏—Ç—å —Å 999.0 –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥
```

---

## 3Ô∏è‚É£ Global Confidence Filter (–§–∏–Ω–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)

**–§–∞–π–ª:** `postprocessing.py` (—Å—Ç—Ä–æ–∫–∞ 324)

```python
processed = filter_low_confidence_detections(processed, min_confidence=0.20)
```

### –ß—Ç–æ —ç—Ç–æ:
- **–¢—Ä–µ—Ç–∏–π —É—Ä–æ–≤–µ–Ω—å** - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- –£–¥–∞–ª—è–µ—Ç –≤—Å—ë —Å confidence < 0.20
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ class-specific —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:

**–ü–æ–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–µ –¥–µ—Ç–µ–∫—Ü–∏–π:**
```python
min_confidence=0.15  # –ü–æ–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥
```

**–¢–æ–ª—å–∫–æ —É–≤–µ—Ä–µ–Ω–Ω—ã–µ –¥–µ—Ç–µ–∫—Ü–∏–∏:**
```python
min_confidence=0.30  # –ü–æ–≤—ã—Å–∏—Ç—å –ø–æ—Ä–æ–≥
```

---

## üîç QR-–∫–æ–¥—ã - –û—Å–æ–±—ã–π —Å–ª—É—á–∞–π!

### QR —á–µ—Ä–µ–∑ pyzbar (–Ω–µ —á–µ—Ä–µ–∑ YOLO)

**–§–∞–π–ª:** `app_inspector.py` (—Å—Ç—Ä–æ–∫–∞ 294)

```python
# QR detection
qr_codes = detect_qr_codes(preprocessed_img)
```

**QR-–∫–æ–¥—ã –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `pyzbar`:**
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç YOLO confidence threshold
- ‚úÖ –î–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è, –µ—Å–ª–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è ‚Üí valid=True/False

### QR Validation Threshold

**–§–∞–π–ª:** `postprocessing.py` (—Å—Ç—Ä–æ–∫–∏ 249-258)

```python
if len(decoded) > 0:
    # QR —É—Å–ø–µ—à–Ω–æ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è
    qr['valid'] = True
    qr['confidence'] = 1.0      # ‚Üê –í—Å–µ–≥–¥–∞ 1.0 –¥–ª—è –≤–∞–ª–∏–¥–Ω—ã—Ö
else:
    # QR –Ω–µ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è
    qr['valid'] = False
    qr['confidence'] = 0.5      # ‚Üê Penalty –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ QR:

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å penalty –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö QR:
```python
qr['confidence'] = 0.3  # –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–π penalty (–±—ã–ª–æ 0.5)
```

---

## üìä –ü–æ–ª–Ω—ã–π Pipeline –§–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  1. YOLO Detection                  ‚îÇ
‚îÇ     conf >= 0.15 (app_inspector.py) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  2. Class-Specific Filter           ‚îÇ
‚îÇ     (postprocessing.py)             ‚îÇ
‚îÇ     - Signature: >= 0.20            ‚îÇ
‚îÇ     - Stamp: >= 0.20                ‚îÇ
‚îÇ     - QR: >= 0.30 (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) ‚îÇ
‚îÇ     - Text: >= 999.0 (–æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  3. Global Confidence Filter        ‚îÇ
‚îÇ     conf >= 0.20 (postprocessing.py)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  4. Non-Maximum Suppression         ‚îÇ
‚îÇ     IoU >= 0.6                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  5. Merge Nearby Signatures         ‚îÇ
‚îÇ     Distance < 50px                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
         Final Results
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

### –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ –æ–±—ä–µ–∫—Ç—ã:

1. **–ü–æ–Ω–∏–∑—å—Ç–µ YOLO –ø–æ—Ä–æ–≥:**
   ```python
   # app_inspector.py, —Å—Ç—Ä–æ–∫–∞ 269
   conf=0.10,  # –ë—ã–ª–æ 0.15
   ```

2. **–ü–æ–Ω–∏–∑—å—Ç–µ class-specific –ø–æ—Ä–æ–≥–∏:**
   ```python
   # postprocessing.py, —Å—Ç—Ä–æ–∫–∏ 279-282
   'signature': 0.15,  # –ë—ã–ª–æ 0.20
   'stamp': 0.15,      # –ë—ã–ª–æ 0.20
   ```

3. **–ü–æ–Ω–∏–∑—å—Ç–µ global filter:**
   ```python
   # postprocessing.py, —Å—Ç—Ä–æ–∫–∞ 324
   min_confidence=0.15  # –ë—ã–ª–æ 0.20
   ```

### –ï—Å–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ª–æ–∂–Ω—ã—Ö –¥–µ—Ç–µ–∫—Ü–∏–π:

1. **–ü–æ–≤—ã—Å—å—Ç–µ YOLO –ø–æ—Ä–æ–≥:**
   ```python
   conf=0.25,  # –ë—ã–ª–æ 0.15
   ```

2. **–ü–æ–≤—ã—Å—å—Ç–µ class-specific –ø–æ—Ä–æ–≥–∏:**
   ```python
   'signature': 0.30,  # –ë—ã–ª–æ 0.20
   'stamp': 0.35,      # –ë—ã–ª–æ 0.20
   ```

### –î–ª—è QR-–∫–æ–¥–æ–≤:

QR-–∫–æ–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **–≤—Å–µ–≥–¥–∞**, –µ—Å–ª–∏ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã `pyzbar`.

–ï—Å–ª–∏ QR –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è QR
2. –£–≤–µ–ª–∏—á—å—Ç–µ DPI –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ PDF:
   ```python
   # app_inspector.py, —Å—Ç—Ä–æ–∫–∞ 174
   images = convert_from_bytes(file_bytes, dpi=300)  # –ë—ã–ª–æ 250
   ```

---

## üîß –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å—ë (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

**app_inspector.py:**
```python
conf=0.05,  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ YOLO
```

**postprocessing.py:**
```python
class_thresholds = {
    'signature': 0.10,
    'stamp': 0.10,
    'qr': 0.10,
    'text': 0.10,  # –í–∫–ª—é—á–∏—Ç—å Text
    'default': 0.10
}

# Global filter
min_confidence=0.10
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ —á–µ—Ç–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

**app_inspector.py:**
```python
conf=0.30,  # –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ YOLO
```

**postprocessing.py:**
```python
class_thresholds = {
    'signature': 0.40,
    'stamp': 0.40,
    'qr': 0.50,
    'text': 999.0,  # Text –æ—Ç–∫–ª—é—á–µ–Ω
    'default': 0.35
}

# Global filter
min_confidence=0.30
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –¢–µ–∫—É—â–∏–π (—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) ‚úÖ

**app_inspector.py:**
```python
conf=0.15,  # –°—Ä–µ–¥–Ω–∏–π –ø–æ—Ä–æ–≥
```

**postprocessing.py:**
```python
class_thresholds = {
    'signature': 0.20,
    'stamp': 0.20,
    'qr': 0.30,
    'text': 999.0,
    'default': 0.25
}

# Global filter
min_confidence=0.20
```

---

## üîÑ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pkill -9 -f "python.*app_inspector"

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
cd /Users/aidyn/Downloads/hacknu
source venv/bin/activate
python app_inspector.py

# 3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# Ctrl+R –∏–ª–∏ Cmd+R
```

---

## üìã –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø–æ—Ä–æ–≥–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ | –¢–µ–∫—É—â–µ–µ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ |
|----------|------|--------|---------|---------------|
| **YOLO conf** | app_inspector.py | 269 | 0.15 | 0.10-0.30 |
| **Signature** | postprocessing.py | 280 | 0.20 | 0.15-0.30 |
| **Stamp** | postprocessing.py | 282 | 0.20 | 0.15-0.35 |
| **QR (YOLO)** | postprocessing.py | 283 | 0.30 | –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| **Text** | postprocessing.py | 284 | 999.0 | –û—Å—Ç–∞–≤–∏—Ç—å |
| **Default** | postprocessing.py | 285 | 0.25 | 0.20-0.30 |
| **Global filter** | postprocessing.py | 324 | 0.20 | 0.15-0.30 |

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### DPI –¥–ª—è PDF (–≤–ª–∏—è–µ—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ QR):
```python
# app_inspector.py, —Å—Ç—Ä–æ–∫–∞ 174
images = convert_from_bytes(file_bytes, dpi=250)
# –£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 300 –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ QR
```

### Image size –¥–ª—è YOLO:
```python
# app_inspector.py, —Å—Ç—Ä–æ–∫–∞ 270
imgsz=960,
# –£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 1280 –¥–ª—è –ª—É—á—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
```

### IoU –¥–ª—è NMS:
```python
# app_inspector.py, —Å—Ç—Ä–æ–∫–∞ 271
iou=0.5,
# –ü–æ–Ω–∏–∑—å—Ç–µ –¥–æ 0.4 –¥–ª—è –º–µ–Ω—å—à–µ–≥–æ overlap
```

---

## üéì –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤

### –î–ª—è —à—Ç–∞–º–ø–æ–≤ (—á–∞—Å—Ç–æ –±–ª–µ–¥–Ω—ã–µ):
```python
'stamp': 0.15,  # –ù–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥
```

### –î–ª—è –ø–æ–¥–ø–∏—Å–µ–π (–º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª–∞–±—ã–µ):
```python
'signature': 0.18,  # –°—Ä–µ–¥–Ω–µ-–Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥
```

### –î–ª—è QR-–∫–æ–¥–æ–≤:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã—Å–æ–∫–∏–π DPI (300)
- –•–æ—Ä–æ—à–µ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –ø—Ä–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
- QR –¥–µ—Ç–µ–∫—Ç–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ pyzbar

---

**–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Ä–æ–≥–∏ –ø–æ–¥ –≤–∞—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ!** üéØ

